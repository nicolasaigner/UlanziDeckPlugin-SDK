<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ulanzi Deck - Simulador de Desenvolvimento</title>
  <link rel="stylesheet" href="./assets/index.css">
</head>
<body>
  <div class="wrapper">
    <div class="ulanzi-left" id="ulanzi-log">
       <div class="log-item">
        <p class="log-time">[2024/10/28 10:18:47]</p> <p>Plugins carregados com sucesso</p>
        <div class="fence-box code-box">
          <span> node.exe "app.js" "127.0.0.1" "3906" </span>
        </div>
      </div>
      <div class="log-item">
        <p>Bem-vindo ao simulador de desenvolvimento Ulanzi Deck!</p>
      </div>

    </div>
    <div class="ulanzi-window">
      <div class="ulanzi-slider" id="ulanzi-list">
        <!-- Exemplo de plugin -->
         <div class="ulanzi-slider-item">
          <div class="slider-item-title">

            <div class="icon-name category-icon">
              <img src="./com.ulanzi.analogclock.ulanziPlugin/assets/icons/icon.png">
              <span>Relógio simulado</span>
            </div>
          </div>

          <ul class="slider-item-actions">
            <li class="active">
              <div class="icon-name action-icon">
                <img src="./com.ulanzi.analogclock.ulanziPlugin/assets/icons/actionIcon.png">
                <span>clock</span>
              </div>
            </li>
            <li>
              <div class="icon-name action-icon">
                <img src="./com.ulanzi.analogclock.ulanziPlugin/assets/icons/actionIcon.png">
                <span>clock</span>
              </div>
            </li>
          </ul>

        </div>

      </div>

      <div class="ulanzi-main">
        <div class="ulanzi-keyboard">
          <div class="ulanzi-key" data-key="0_0" data-index="0"></div>
          <div class="ulanzi-key" data-key="1_0" data-index="1"></div>
          <div class="ulanzi-key" data-key="2_0" data-index="2"></div>
          <div class="ulanzi-key" data-key="0_1" data-index="3"></div>
          <div class="ulanzi-key" data-key="1_1" data-index="4"></div>
          <div class="ulanzi-key" data-key="2_1" data-index="5"></div>
          <div class="ulanzi-key" data-key="0_2" data-index="6"></div>
          <div class="ulanzi-key" data-key="1_2" data-index="7"></div>
          <div class="ulanzi-key" data-key="2_2" data-index="8"></div>
        </div>
        <div class="ulanzi-action">
          <div class="action-iframe">
             <iframe src="./com.ulanzi.analogclock.ulanziPlugin/property-inspector/clock/inspector.html"></iframe>
          </div>
        </div>
      </div>
    </div>
    <div class="ulanzi-right">

      <form class="ulanzi-form fence-box" id="ulanzi-config">
        <div>
          <label>Idioma:</label>
          <label><input type="radio" name="language" value="pt_BR" checked />Português Brasileiro</label>
            <label><input type="radio" name="language" value="en" />Inglês</label>
            <label><input type="radio" name="language" value="zh_CN" />Chinês (Simplificado)</label>
          <label><input type="radio" name="language" value="ja_JP" />Japonês</label>
          <label><input type="radio" name="language" value="de_DE" />Alemão</label>
          <label><input type="radio" name="language" value="zh_HK" />Chinês (Tradicional)</label>
        </div>
        <div>
          <label>Carregar action:</label>
          <label><input type="radio" name="loadAction" value="no" checked /><span>Não</span></label>
          <label><input type="radio" name="loadAction" value="yes"  /><span>Sim</span></label>
        </div>
         <div>
          <label>Executar serviço principal:</label>
          <label><input type="radio" name="runMain" value="no" checked /><span>Não</span></label>
          <label><input type="radio" name="runMain" value="yes"  /><span>Sim</span></label>
        </div>
        <br/>
        <div>
          <button type="button" onclick="refreshList()">Atualizar lista de plugins</button>
        </div>
        <div style="margin-top: 15px;">
          <button type="button" onclick="window.open('./ajuda.html', '_blank')" style="background: #28a745; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
            ❓ Como iniciar o plugin
          </button>
        </div>
      </form>

      <div>
        <h4>Este simulador serve para facilitar o desenvolvimento e depuração; os resultados reais podem variar em relação ao software de desktop.</h4>
        <ol style="padding-left: 20px;">
          <li>Antes de começar a escrever plugins, visite <a href="https://github.com/UlanziTechnology/UlanziDeckPlugin-SDK" target="_blank">SDK de desenvolvimento de plugins</a> e <a href="https://cloud.tencent.com/developer/article/2461403" target="_blank">Do zero: Jornada de desenvolvimento de plugins UlanziDeck</a> para conhecer instruções e informações.</li>
          <li>Para testar plugins, preencha o arquivo manifest.json conforme o protocolo e coloque-o no diretório <code>UlanziDeckSimulator/plugins</code>. O simulador irá analisar o plugin automaticamente e exibi-lo na lista à esquerda. Para atualizar um plugin, clique em <strong>Atualizar lista de plugins</strong> para recarregar o simulador.</li>
          <li>Na versão atual, o serviço principal precisa ser iniciado manualmente pelo desenvolvedor; siga as instruções para iniciar o serviço principal antes de prosseguir.</li>
          <li>Ordem de depuração: iniciar o simulador do computador host -> confirmar que o serviço principal do plugin está conectado -> arrastar o teclado e depurar a action.</li>
          <li>O simulador não suporta certos eventos especiais do host: <code>openview</code>, <code>selectdialog</code>. Se o plugin abrir uma janela ou selecionar uma pasta, teste no host real.</li>
          <li>O simulador atualmente não muda de página automaticamente e não envia <code>setactive</code> por conta própria; para testar esse evento, clique com o botão direito e envie manualmente.</li>
          <li>Por padrão, não carregamos actions automaticamente; isso permite que o desenvolvedor execute a página da action para depuração. Carregar actions pode causar conflito de websocket com a página da action que o desenvolvedor abriu, afetando os testes.</li>
        </ol>
        
      </div>
    </div>

    <ul id="custom-menu">
      <li id="menu-run">Executar</li>
      <li id="menu-clear">Remover</li>
      <li id="menu-setactive">Definir como ativo</li>
      <li id="menu-setnoactive">Definir como inativo</li>
  </ul>

  <div class="toast" id="toast">Copiado!</div>
  </div>
  <script src="./assets/keys.js"></script>
  <script src="./assets/index.js"></script>
</body>
</html>